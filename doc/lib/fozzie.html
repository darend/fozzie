<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>fozzie.rb</title>
  <link rel="stylesheet" href="http://jashkenas.github.com/docco/resources/docco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div id="jump_to">
    Jump To &hellip;
    <div id="jump_wrapper">
      <div id="jump_page">
          <a class="source" href="core_ext/hash.html">hash.rb</a>
          <a class="source" href="fozzie.html">fozzie.rb</a>
          <a class="source" href="fozzie/configuration.html">configuration.rb</a>
          <a class="source" href="fozzie/interface.html">interface.rb</a>
          <a class="source" href="fozzie/rack/middleware.html">middleware.rb</a>
          <a class="source" href="fozzie/rails/middleware.html">middleware.rb</a>
          <a class="source" href="fozzie/socket.html">socket.rb</a>
          <a class="source" href="fozzie/version.html">version.rb</a>
      </div>
    </div>
  </div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1>fozzie.rb</h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-1'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-1">&#182;</a>
        </div>
        <p>Fozzie is an implementation of the Statsd statistics gathering tool,
designed to make gathering stastistics from applications easy, fast, and effective.</p>

<p>Configuration can be applied through a block and/or configuration file (&lsquo;config/fozzie.yml&rsquo;)</p>

<p>Fozzie provides automatic namespacing for the current environment, and host.</p>

<p>Rack and Rails middleware is avaliable to gather statistics on the processing time of Controller actions.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="k">module</span> <span class="nn">Fozzie</span>

  <span class="n">require_relative</span> <span class="s1">&#39;fozzie/configuration&#39;</span>
  <span class="n">require_relative</span> <span class="s2">&quot;fozzie/interface&quot;</span>
  <span class="n">require_relative</span> <span class="s2">&quot;fozzie/version&quot;</span>

  <span class="n">require_relative</span> <span class="s2">&quot;fozzie/rack/middleware&quot;</span>
  <span class="n">require_relative</span> <span class="s2">&quot;fozzie/rails/middleware&quot;</span>

  <span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="nb">self</span></pre></div>
      </td>
    </tr>
    <tr id='section-2'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-2">&#182;</a>
        </div>
        <p>Shortcut for <code>Fozzie.config</code></p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="k">def</span> <span class="nf">c</span>
      <span class="n">config</span>
    <span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-3'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-3">&#182;</a>
        </div>
        <p>Returns the current configuration. Creates configuration on first-time request</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="k">def</span> <span class="nf">config</span>
      <span class="vi">@config</span> <span class="o">||=</span> <span class="no">Configuration</span><span class="o">.</span><span class="n">new</span>
    <span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-4'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-4">&#182;</a>
        </div>
        <p>Allows the setting on valudes against the configuration</p>

<p><code>Fozzie.configure {|config| config.wat = :random }</code></p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="k">def</span> <span class="nf">configure</span>
      <span class="k">yield</span> <span class="n">c</span> <span class="k">if</span> <span class="nb">block_given?</span>
    <span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-5'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-5">&#182;</a>
        </div>
        <p>Set a logger</p>

<p><code>Fozzie.logger = Logger.new(STDOUT)</code></p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="k">def</span> <span class="nf">logger</span><span class="o">=</span><span class="p">(</span><span class="n">logger</span><span class="p">)</span>
      <span class="vi">@logger</span> <span class="o">=</span> <span class="n">logger</span>
    <span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-6'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-6">&#182;</a>
        </div>
        <p>Accessor for logger</p>

<p><code>Fozzie.logger.warn &lsquo;foo&rsquo;</code></p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="k">def</span> <span class="nf">logger</span>
      <span class="vi">@logger</span>
    <span class="k">end</span>

  <span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-7'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-7">&#182;</a>
        </div>
        <p>Loads each namespace for registering statistics</p>

      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nb">self</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">namespaces</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">klas</span><span class="o">|</span>
    <span class="no">Kernel</span><span class="o">.</span><span class="n">const_set</span><span class="p">(</span><span class="n">klas</span><span class="p">,</span> <span class="no">Interface</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span> <span class="k">unless</span> <span class="nb">const_defined?</span><span class="p">(</span><span class="n">klas</span><span class="p">)</span>
  <span class="k">end</span>

<span class="k">end</span></pre></div>
      </td>
    </tr>
  </table>
</div>
</body>
